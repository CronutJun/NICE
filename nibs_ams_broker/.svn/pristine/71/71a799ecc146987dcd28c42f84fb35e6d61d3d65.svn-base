package com.nicetcm.nibsplus.broker.ams.mapper;

import com.nicetcm.nibsplus.broker.ams.model.TRmMsgHis;
import com.nicetcm.nibsplus.broker.ams.model.TRmMsgHisKey;
import com.nicetcm.nibsplus.broker.ams.model.TRmMsgHisSpec;

import java.util.List;

import org.apache.ibatis.annotations.Delete;
import org.apache.ibatis.annotations.DeleteProvider;
import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.InsertProvider;
import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.Result;
import org.apache.ibatis.annotations.Results;
import org.apache.ibatis.annotations.Select;
import org.apache.ibatis.annotations.SelectProvider;
import org.apache.ibatis.annotations.Update;
import org.apache.ibatis.annotations.UpdateProvider;
import org.apache.ibatis.type.JdbcType;

public interface TRmMsgHisMapper {

    /**
     * This method was generated by MyBatis Generator. This method corresponds to the database table IN.T_RM_MSG_HIS
     * @mbggenerated  Mon Aug 18 10:55:09 KST 2014
     */
    @SelectProvider(type = TRmMsgHisSqlProvider.class, method = "countBySpec")
    int countBySpec(TRmMsgHisSpec spec);

    /**
     * This method was generated by MyBatis Generator. This method corresponds to the database table IN.T_RM_MSG_HIS
     * @mbggenerated  Mon Aug 18 10:55:09 KST 2014
     */
    @DeleteProvider(type = TRmMsgHisSqlProvider.class, method = "deleteBySpec")
    int deleteBySpec(TRmMsgHisSpec spec);

    /**
     * This method was generated by MyBatis Generator. This method corresponds to the database table IN.T_RM_MSG_HIS
     * @mbggenerated  Mon Aug 18 10:55:09 KST 2014
     */
    @Delete({ "delete from IN.T_RM_MSG_HIS",
            "where CREATE_DATE = #{createDate,jdbcType=VARCHAR}",
            "and MSG_SEQ = #{msgSeq,jdbcType=VARCHAR}",
            "and HIS_SEQ = #{hisSeq,jdbcType=VARCHAR}" })
    int deleteByPrimaryKey(TRmMsgHisKey key);

    /**
     * This method was generated by MyBatis Generator. This method corresponds to the database table IN.T_RM_MSG_HIS
     * @mbggenerated  Mon Aug 18 10:55:09 KST 2014
     */
    @Insert({
            "insert into IN.T_RM_MSG_HIS (CREATE_DATE, MSG_SEQ, ",
            "HIS_SEQ, CREATE_TIME, ",
            "INSERT_UID, INSERT_DATE, ",
            "MAC_NO, MAC_MSG_SEQ, ",
            "MSG_STS, MSG_TYPE, ",
            "MSG_CD, SVC_CD, MAC_SER_NO, ",
            "BRANCH_CD, ORG_CD, ",
            "MSG_CTX)",
            "values (#{createDate,jdbcType=VARCHAR}, #{msgSeq,jdbcType=VARCHAR}, ",
            "#{hisSeq,jdbcType=VARCHAR}, #{createTime,jdbcType=VARCHAR}, ",
            "#{insertUid,jdbcType=VARCHAR}, #{insertDate,jdbcType=TIMESTAMP}, ",
            "#{macNo,jdbcType=VARCHAR}, #{macMsgSeq,jdbcType=VARCHAR}, ",
            "#{msgSts,jdbcType=VARCHAR}, #{msgType,jdbcType=VARCHAR}, ",
            "#{msgCd,jdbcType=VARCHAR}, #{svcCd,jdbcType=VARCHAR}, #{macSerNo,jdbcType=VARCHAR}, ",
            "#{branchCd,jdbcType=VARCHAR}, #{orgCd,jdbcType=VARCHAR}, ",
            "#{msgCtx,jdbcType=VARCHAR})" })
    int insert(TRmMsgHis record);

    /**
     * This method was generated by MyBatis Generator. This method corresponds to the database table IN.T_RM_MSG_HIS
     * @mbggenerated  Mon Aug 18 10:55:09 KST 2014
     */
    @InsertProvider(type = TRmMsgHisSqlProvider.class, method = "insertSelective")
    int insertSelective(TRmMsgHis record);

    /**
     * This method was generated by MyBatis Generator. This method corresponds to the database table IN.T_RM_MSG_HIS
     * @mbggenerated  Mon Aug 18 10:55:09 KST 2014
     */
    @SelectProvider(type = TRmMsgHisSqlProvider.class, method = "selectBySpec")
    @Results({
            @Result(column = "CREATE_DATE", property = "createDate", jdbcType = JdbcType.VARCHAR, id = true),
            @Result(column = "MSG_SEQ", property = "msgSeq", jdbcType = JdbcType.VARCHAR, id = true),
            @Result(column = "HIS_SEQ", property = "hisSeq", jdbcType = JdbcType.VARCHAR, id = true),
            @Result(column = "CREATE_TIME", property = "createTime", jdbcType = JdbcType.VARCHAR),
            @Result(column = "INSERT_UID", property = "insertUid", jdbcType = JdbcType.VARCHAR),
            @Result(column = "INSERT_DATE", property = "insertDate", jdbcType = JdbcType.TIMESTAMP),
            @Result(column = "MAC_NO", property = "macNo", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MAC_MSG_SEQ", property = "macMsgSeq", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MSG_STS", property = "msgSts", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MSG_TYPE", property = "msgType", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MSG_CD", property = "msgCd", jdbcType = JdbcType.VARCHAR),
            @Result(column = "SVC_CD", property = "svcCd", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MAC_SER_NO", property = "macSerNo", jdbcType = JdbcType.VARCHAR),
            @Result(column = "BRANCH_CD", property = "branchCd", jdbcType = JdbcType.VARCHAR),
            @Result(column = "ORG_CD", property = "orgCd", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MSG_CTX", property = "msgCtx", jdbcType = JdbcType.VARCHAR) })
    List<TRmMsgHis> selectBySpec(TRmMsgHisSpec spec);

    /**
     * This method was generated by MyBatis Generator. This method corresponds to the database table IN.T_RM_MSG_HIS
     * @mbggenerated  Mon Aug 18 10:55:09 KST 2014
     */
    @Select({
            "select",
            "CREATE_DATE, MSG_SEQ, HIS_SEQ, CREATE_TIME, INSERT_UID, INSERT_DATE, MAC_NO, ",
            "MAC_MSG_SEQ, MSG_STS, MSG_TYPE, MSG_CD, SVC_CD, MAC_SER_NO, BRANCH_CD, ORG_CD, ",
            "MSG_CTX", "from IN.T_RM_MSG_HIS",
            "where CREATE_DATE = #{createDate,jdbcType=VARCHAR}",
            "and MSG_SEQ = #{msgSeq,jdbcType=VARCHAR}",
            "and HIS_SEQ = #{hisSeq,jdbcType=VARCHAR}" })
    @Results({
            @Result(column = "CREATE_DATE", property = "createDate", jdbcType = JdbcType.VARCHAR, id = true),
            @Result(column = "MSG_SEQ", property = "msgSeq", jdbcType = JdbcType.VARCHAR, id = true),
            @Result(column = "HIS_SEQ", property = "hisSeq", jdbcType = JdbcType.VARCHAR, id = true),
            @Result(column = "CREATE_TIME", property = "createTime", jdbcType = JdbcType.VARCHAR),
            @Result(column = "INSERT_UID", property = "insertUid", jdbcType = JdbcType.VARCHAR),
            @Result(column = "INSERT_DATE", property = "insertDate", jdbcType = JdbcType.TIMESTAMP),
            @Result(column = "MAC_NO", property = "macNo", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MAC_MSG_SEQ", property = "macMsgSeq", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MSG_STS", property = "msgSts", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MSG_TYPE", property = "msgType", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MSG_CD", property = "msgCd", jdbcType = JdbcType.VARCHAR),
            @Result(column = "SVC_CD", property = "svcCd", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MAC_SER_NO", property = "macSerNo", jdbcType = JdbcType.VARCHAR),
            @Result(column = "BRANCH_CD", property = "branchCd", jdbcType = JdbcType.VARCHAR),
            @Result(column = "ORG_CD", property = "orgCd", jdbcType = JdbcType.VARCHAR),
            @Result(column = "MSG_CTX", property = "msgCtx", jdbcType = JdbcType.VARCHAR) })
    TRmMsgHis selectByPrimaryKey(TRmMsgHisKey key);

    /**
     * This method was generated by MyBatis Generator. This method corresponds to the database table IN.T_RM_MSG_HIS
     * @mbggenerated  Mon Aug 18 10:55:09 KST 2014
     */
    @UpdateProvider(type = TRmMsgHisSqlProvider.class, method = "updateBySpecSelective")
    int updateBySpecSelective(@Param("record") TRmMsgHis record,
            @Param("spec") TRmMsgHisSpec spec);

    /**
     * This method was generated by MyBatis Generator. This method corresponds to the database table IN.T_RM_MSG_HIS
     * @mbggenerated  Mon Aug 18 10:55:09 KST 2014
     */
    @UpdateProvider(type = TRmMsgHisSqlProvider.class, method = "updateBySpec")
    int updateBySpec(@Param("record") TRmMsgHis record,
            @Param("spec") TRmMsgHisSpec spec);

    /**
     * This method was generated by MyBatis Generator. This method corresponds to the database table IN.T_RM_MSG_HIS
     * @mbggenerated  Mon Aug 18 10:55:09 KST 2014
     */
    @UpdateProvider(type = TRmMsgHisSqlProvider.class, method = "updateByPrimaryKeySelective")
    int updateByPrimaryKeySelective(TRmMsgHis record);

    /**
     * This method was generated by MyBatis Generator. This method corresponds to the database table IN.T_RM_MSG_HIS
     * @mbggenerated  Mon Aug 18 10:55:09 KST 2014
     */
    @Update({ "update IN.T_RM_MSG_HIS",
            "set CREATE_TIME = #{createTime,jdbcType=VARCHAR},",
            "INSERT_UID = #{insertUid,jdbcType=VARCHAR},",
            "INSERT_DATE = #{insertDate,jdbcType=TIMESTAMP},",
            "MAC_NO = #{macNo,jdbcType=VARCHAR},",
            "MAC_MSG_SEQ = #{macMsgSeq,jdbcType=VARCHAR},",
            "MSG_STS = #{msgSts,jdbcType=VARCHAR},",
            "MSG_TYPE = #{msgType,jdbcType=VARCHAR},",
            "MSG_CD = #{msgCd,jdbcType=VARCHAR},",
            "SVC_CD = #{svcCd,jdbcType=VARCHAR},",
            "MAC_SER_NO = #{macSerNo,jdbcType=VARCHAR},",
            "BRANCH_CD = #{branchCd,jdbcType=VARCHAR},",
            "ORG_CD = #{orgCd,jdbcType=VARCHAR},",
            "MSG_CTX = #{msgCtx,jdbcType=VARCHAR}",
            "where CREATE_DATE = #{createDate,jdbcType=VARCHAR}",
            "and MSG_SEQ = #{msgSeq,jdbcType=VARCHAR}",
            "and HIS_SEQ = #{hisSeq,jdbcType=VARCHAR}" })
    int updateByPrimaryKey(TRmMsgHis record);

    /**
     * CommonPackImpl.insUpdMsg에서 호출
     *
     * 전문이력 Key Generation
     *
     * @author KDJ, on Mon Aug 18 10:44:00 KST 2014
     */
    @Select({
        "SELECT LPAD( NVL(MAX(HIS_SEQ), 0) + 1, 6, '0' ) AS HIS_SEQ",
        "FROM   IN.T_RM_MSG_HIS                                  ",
        "WHERE  CREATE_DATE = #{createDate, jdbcType=VARCHAR}    ",
        "AND    MSG_SEQ     = #{msgSeq, jdbcType=VARCHAR}        "
    })
    @Results({
        @Result(column="HIS_SEQ", property="hisSeq", jdbcType=JdbcType.VARCHAR)
    })
    String generateKey(TRmMsgHis record);

}