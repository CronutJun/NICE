package com.nicetcm.nibsplus.broker.ams;

import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;
import java.io.*;

public class RMIClientTest {
    public static void main(String[] args) { 
        try { 
            Registry registry = LocateRegistry.getRegistry("localhost");
            AMSBrokerRMI remoteObj = (AMSBrokerRMI)registry.lookup("AMSBrokerRMI");
            String msg = remoteObj.sayHello("KDJ"); 
            System.out.println(msg); 
            
            /*
            FileInputStream file = new FileInputStream("D:/CronutWorks/NICE/Documents/Design/07. 통신전문관련/전문관련/P140217_DS 06 화면정의서_AMS v1.1.pptx");
            boolean isFirst = true;
            boolean hasNext = false;
            while ( file.available() > 0) {
                byte[] data = file.available() > 262144 ? new byte[262144] : new byte[file.available()];
                file.read(data);
                hasNext = file.available() > 0;
                remoteObj.dataUploadToBroker(data, isFirst, hasNext);
                isFirst = false;
            }   
            System.out.println("Upload complete");
            */
            
        } 
        catch( java.rmi.RemoteException e ) { 
            System.out.println("Something has gone wrong during remote method call...");
            e.printStackTrace();
        } 
        catch( java.rmi.NotBoundException e ) { 
            System.out.println("Could't bound..."); 
        } 
        catch( Exception e ) { 
            e.printStackTrace(); 
        } 
    } 
}
