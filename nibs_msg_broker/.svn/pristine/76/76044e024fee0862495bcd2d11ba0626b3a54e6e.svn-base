#USE_COL_CNT, COL_LEN, COL_TYPE 순으로 정의되어 져야 하며 SELECT 절 내부를 제외하고는 라인을 띄우면 안된다.
#SELECT 문의 COLUMN은 반드시 50개를 채워줘야 한다.(USE_COL_CNT 만큼 제외한 컬럼은 '' 등 으로 정의
USE_COL_CNT=33
COL_LEN=8,10,8,12,6,4,4,60,8,60,4,8,6,1,1,4,4,1,8,6,8,10,13,10,8,6,40,200,50,4,20,3,65
COL_TYPE=A,A,A,A,A,A,A,A,A,A,A,A,A,N,N,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A
SELECT MNG.trans_date,																/* 1차통지 거래일자					*/
		 MNG.org_msg_no,                                                            /* 1차통지 전문번호					*/
		 MNG.jijum_cd,                                                              /* 지점코드							*/
		 MNG.mac_no,                                                                /* 기기번호							*/
		 '',                                                                        /* 기관코너번호						*/
		 '',                                                                        /* 지점포구분						*/
		 '',                                                                        /* 운영구분							*/
		 '',                                                                        /* 장소명							*/
		 MNG.error_cd,                                                              /* 장애코드							*/
		 ERR.error_msg,                                                             /* 장애코드명						*/
		 '',                                                                        /* 장애분류							*/
		 MNG.send_date,                                                             /* 통보일자							*/
		CASE WHEN MNG.send_time IS NULL                                             /* 통보시간							*/
			THEN DECODE(MNG.finish_time, '', TO_CHAR(sysdate, 'HH24MISS'),          
							MNG.finish_time )                                       
			ELSE MNG.send_time                                                      
		 END AS send_time,                                                          
		 '3',                                                                       /* 조치구분							*/
		 '1',                                                                       /* 조치회차							*/
		 DECODE( MNG.error_status, '7000', '0', '1' ),                              /* 조치결과							*/
         DECODE( MNG.error_status, '7000', '0', SUBSTR(MNG.error_status, 4, 1) ),   /* 조치불가사유						*/
         '',                                                                        /* A/S 매체							*/
		 MNG.finish_date,                                                           /* 조치(예정)일자					*/
		 DECODE(MNG.finish_time, '', '', MNG.finish_time ),                         /* 조치(예정)시간					*/
		 CASE WHEN MNG.org_send_yn = '2'                                            /* 조치자 사번						*/
		 	       then DECODE(MNG.finish_uid, NULL, 'nice', MNG.finish_uid)        
		  	  WHEN MNG.org_send_yn = '3' and                                        
		 	  	   MNG.finish_type = '0001' AND                                     
				   MNG.finish_nm = '취소' AND                                       
				   MNG.arrival_time IS NOT NULL                                     
			       THEN DECODE(MNG.recv_user_uid, NULL,                             
		   	  	   						 'nice', MNG.recv_user_uid)                 
		 END finishuid,                                                             
		 CASE WHEN MNG.org_send_yn = '2'                                            /* 조치자명							*/
		 	       then DECODE(MNG.finish_nm, NULL, '나이스', MNG.finish_nm)        
		  	  WHEN MNG.org_send_yn = '3' and                                        
		 	  	   MNG.finish_type = '0001' AND                                     
				   MNG.finish_nm = '취소' AND                                       
				   MNG.arrival_time IS NOT NULL                                     
			       THEN DECODE(MNG.recv_user_nm, NULL,                              
		   	  	   			DECODE(MNG.recv_user_uid, NULL,                         
													 '나이스',                      
													  MBR.member_nm),               
												 MNG.recv_user_nm)                  
		 END finishnm,                                                              
		 '0800228252',																/* 조치자 연락처					*/
		 '나이스',                                                                  /* 업체 담당자명					*/
		 MNG.arrival_date,                                                          /* 도착일자							*/
		 DECODE(MNG.arrival_time, '', '', MNG.arrival_time ),                       /* 도착시간							*/
		 '',                                                                        /* 조치내용							*/
		 MNG.msg,                                                                   /* 메모사항							*/
		 '',                                                                        /* 응답 Message						*/
		 '',                                                                        /* 관리지사코드 					*/
		 '',                                                                        /* 관리지사명 						*/
		 '',                                                                        /* 기관코드							*/
		 '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''     /* 출동요청시간						*/
   FROM T_CT_ERROR_MNG MNG,
   	 T_CM_MEMBER	MBR,
		 T_CT_ERROR		ERR
 WHERE MNG.org_cd = '035'
   AND MNG.error_status IS NOT NULL
   AND (  (MNG.org_send_yn = '2' AND MNG.send_time is not null)
      	OR (MNG.org_send_yn < '2' AND MNG.send_time is null)
	  	)
    /* AND (MNG.format_type = '21' OR MNG.format_type = '31')*/   
   AND SUBSTR(MNG.error_cd, 1, 3) <> 'ERR'
   AND SUBSTR(MNG.error_cd, 1, 3) <> 'USR'
   and MNG.CREATE_DATE > TO_CHAR((SYSDATE - 3), 'YYYYMMDD')
	AND MNG.org_cd = ERR.org_cd(+)
   AND MNG.error_cd = ERR.error_cd(+)
   AND MNG.recv_user_uid = MBR.member_id(+)