#USE_COL_CNT, COL_LEN, COL_TYPE 순으로 정의되어 져야 하며 SELECT 절 내부를 제외하고는 라인을 띄우면 안된다.
#SELECT 문의 COLUMN은 반드시 50개를 채워줘야 한다.(USE_COL_CNT 만큼 제외한 컬럼은 '' 등 으로 정의
USE_COL_CNT=33
COL_LEN=8,10,8,12,6,4,4,60,8,60,4,8,6,1,1,4,4,1,8,6,8,10,13,10,8,6,40,200,50,4,20,3,65
COL_TYPE=A,A,A,A,A,A,A,A,A,A,A,A,A,N,N,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A
SELECT  MNG.trans_date,																			/*	1차통지 거래일자		*/
		 MNG.org_msg_no,																		/*	1차통지	전문일련번호	*/
		 MNG.jijum_cd,																			/*	지점코드				*/
		 MNG.mac_no,																			/*	기기번호				*/
		 MNG.site_cd,																			/*	코너코드				*/
		 MNG.org_call_cnt,																		/*	출동요청차수			*/
		 '',
		 '',
		 MNG.error_cd,
		 ERR.error_msg,
		 MNG.group_error_cd,																	/*	집계분류코드			*/
		 MNG.send_date,
		 MNG.send_time,
		 SUBSTR(MNG.sec, 1, 1),																	/*	출동요청구분			*/
		 DECODE(SUBSTR(MNG.sec, 3, 1), NULL, '1', SUBSTR(MNG.sec, 3, 1)),						/*	출동차수구분			*/
		 DECODE(SUBSTR(MNG.error_status, 3, 1),'0','1','0'),									/*	조치결과(0:미조치,1:조치)	*/
		 /*DECODE(SUBSTR(MNG.error_status, 4, 1), '7', '9', SUBSTR(MNG.error_status, 4, 1)),*/		/*	조치불가 사유			*/
		 DECODE( MNG.format_type, '21', DECODE( SUBSTR(MNG.error_status, 4, 1), '7','Z', 
		 																		'8','Z', 
		 																		SUBSTR(MNG.error_status, 4, 1) ),
  			                   			DECODE( SUBSTR(MNG.error_status, 3, 1), '0', '0', 
                     															DECODE( SUBSTR(MNG.error_status, 4, 1), '3', 
                     															'Z' ))),
		 --SUBSTR(MNG.as_medium, 2, 1),
		 SUBSTR(AS1.ACCEPT_AS_CODE, 2, 1),														/*	A/S매체					*/
		 DECODE(AS1.accept_time, '', DECODE(MNG.finish_time, '', TO_CHAR(SYSDATE, 'YYYYMMDD'),  /*	조치(예정)일자			*/
		 													MNG.finish_date ), 
		 							 AS1.accept_date ) as finish_date,												
		 DECODE(AS1.accept_time, '', DECODE(MNG.finish_time, '', TO_CHAR(SYSDATE, 'HH24MISS'),  /*	조치(예정)시각			*/
		 													MNG.finish_time ), 
		 							 AS1.accept_time ) as finish_time,										
		 '',
		 CASE WHEN MNG.org_send_yn = '2'														/*	조치자명				*/
		 	       then DECODE(MNG.finish_nm, NULL, '나이스', MNG.finish_nm)
		  	  WHEN MNG.org_send_yn = '3' and
		 	  	   MNG.finish_type = '0001' AND
				   MNG.finish_nm = '취소' AND
				   MNG.arrival_time IS NOT NULL
			       THEN DECODE(MNG.recv_user_nm, NULL,
		   	  	   			DECODE(MNG.recv_user_uid, NULL, '나이스', MBR.member_nm), MNG.recv_user_nm)
		 END finishnm,
		 '0800228252',																			/*	조치자 연락처			*/
		 '',
		 '',
	     '',
		 SUBSTR(MNG.SEC, 2, 1),																	/*	조치내용코드			*/
		 MNG.msg,							/*MNG.msg,*/	/*	메모사항(조치내용)(BIGO전송. 운총방정호과장20130813->다시원복요청20140221*/
		 '',
		 '', 
		 '', 
		 '', 
		 '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''
      FROM T_CT_ERROR_MNG     MNG,
        T_CM_MEMBER        MBR,
        T_CT_ERROR         ERR,
        T_CT_AS            AS1
WHERE MNG.org_cd = '003'
   /*AND MNG.send_time IS NOT NULL*/
   AND MNG.error_status IS NOT NULL
   AND (    MNG.org_send_yn = '2'
            OR (    MNG.arrival_est_time IS NULL
                AND MNG.arrival_time IS NULL
                AND MNG.org_send_yn = '0'
               )
            OR (    MNG.arrival_est_time IS NOT NULL
                AND MNG.arrival_time IS NULL
                AND MNG.org_send_yn = '1'
               )
            /* 도착이 은행에서 99 오류로 준것도 완료를 보내도록 한다. */   
            OR MNG.org_send_yn = 'b'
            /* AS 처리완료된건에대해서 완료 시간을 다시 보내도록 한다 */
            OR MNG.org_send_yn = '5'
       )
   /*AND (MNG.format_type = '21' OR MNG.format_type = '31')*/
   /* sec : 출동요청구분 + 사유로 구성 */
   AND MNG.sec IS NOT NULL
   AND MNG.CREATE_DATE > TO_CHAR((SYSDATE - 10), 'YYYYMMDD') 
   AND MNG.org_cd = ERR.org_cd(+)
   AND MNG.error_cd = ERR.error_cd(+)
   AND MNG.recv_user_uid = MBR.member_id(+)
   AND MNG.CREATE_DATE = AS1.CREATE_DATE(+)
   AND MNG.ERROR_NO = AS1.ERROR_NO(+)
   AND MNG.ORG_CD = AS1.ORG_CD(+)
   AND MNG.JIJUM_CD = AS1.JIJUM_CD(+)
   AND MNG.MAC_NO = AS1.MAC_NO(+)
   
