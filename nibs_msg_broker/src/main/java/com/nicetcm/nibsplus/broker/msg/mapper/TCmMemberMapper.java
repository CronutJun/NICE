package com.nicetcm.nibsplus.broker.msg.mapper;

import com.nicetcm.nibsplus.broker.msg.model.TCmMember;
import com.nicetcm.nibsplus.broker.msg.model.TCmMemberSpec;
import com.nicetcm.nibsplus.broker.msg.model.TCmMemberCond;
import java.util.List;
import org.apache.ibatis.annotations.Delete;
import org.apache.ibatis.annotations.DeleteProvider;
import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.InsertProvider;
import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.Result;
import org.apache.ibatis.annotations.Results;
import org.apache.ibatis.annotations.Select;
import org.apache.ibatis.annotations.SelectProvider;
import org.apache.ibatis.annotations.Update;
import org.apache.ibatis.annotations.UpdateProvider;
import org.apache.ibatis.type.JdbcType;

public interface TCmMemberMapper {
    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table OP.T_CM_MEMBER
     *
     * @mbggenerated Tue Jul 15 14:49:16 KST 2014
     */
    @SelectProvider(type=TCmMemberSqlProvider.class, method="countBySpec")
    int countBySpec(TCmMemberSpec spec);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table OP.T_CM_MEMBER
     *
     * @mbggenerated Tue Jul 15 14:49:16 KST 2014
     */
    @DeleteProvider(type=TCmMemberSqlProvider.class, method="deleteBySpec")
    int deleteBySpec(TCmMemberSpec spec);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table OP.T_CM_MEMBER
     *
     * @mbggenerated Tue Jul 15 14:49:16 KST 2014
     */
    @Delete({
        "delete from OP.T_CM_MEMBER",
        "where MEMBER_ID = #{memberId,jdbcType=VARCHAR}"
    })
    int deleteByPrimaryKey(String memberId);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table OP.T_CM_MEMBER
     *
     * @mbggenerated Tue Jul 15 14:49:16 KST 2014
     */
    @Insert({
        "insert into OP.T_CM_MEMBER (MEMBER_ID, MEMBER_NM, ",
        "MEMBER_TYPE, PASS_WORD, ",
        "IN_TEL_NO, CTI_ID, ",
        "NICE_HP, PRI_HP, TELE_NO, ",
        "ADDR, E_MAIL, WORK_TYPE, ",
        "RETIRE_YN, RESIDENT_NO, ",
        "LICENCE_NO, ENTER_DATE, ",
        "RETIRE_DATE, CT_RIGHT, ",
        "FN_RIGHT, DEPT_CD, ",
        "OFFICE_CD, TEAM_CD, ",
        "DEGREE_NO, MIS_ORG_CD, ",
        "MIS_ORG_NM, UPDATE_DATE, ",
        "UPDATE_UID, NICEMEM_TYPE, ",
        "USE_TYPE, PWD_FAIL_CNT, ",
        "PWD_CH_DATE, MIS_RIGHT, ",
        "SYS_TYPE)",
        "values (#{memberId,jdbcType=VARCHAR}, #{memberNm,jdbcType=VARCHAR}, ",
        "#{memberType,jdbcType=VARCHAR}, #{passWord,jdbcType=VARCHAR}, ",
        "#{inTelNo,jdbcType=VARCHAR}, #{ctiId,jdbcType=VARCHAR}, ",
        "#{niceHp,jdbcType=VARCHAR}, #{priHp,jdbcType=VARCHAR}, #{teleNo,jdbcType=VARCHAR}, ",
        "#{addr,jdbcType=VARCHAR}, #{eMail,jdbcType=VARCHAR}, #{workType,jdbcType=VARCHAR}, ",
        "#{retireYn,jdbcType=VARCHAR}, #{residentNo,jdbcType=VARCHAR}, ",
        "#{licenceNo,jdbcType=VARCHAR}, #{enterDate,jdbcType=VARCHAR}, ",
        "#{retireDate,jdbcType=VARCHAR}, #{ctRight,jdbcType=VARCHAR}, ",
        "#{fnRight,jdbcType=VARCHAR}, #{deptCd,jdbcType=VARCHAR}, ",
        "#{officeCd,jdbcType=VARCHAR}, #{teamCd,jdbcType=VARCHAR}, ",
        "#{degreeNo,jdbcType=VARCHAR}, #{misOrgCd,jdbcType=VARCHAR}, ",
        "#{misOrgNm,jdbcType=VARCHAR}, #{updateDate,jdbcType=TIMESTAMP}, ",
        "#{updateUid,jdbcType=VARCHAR}, #{nicememType,jdbcType=VARCHAR}, ",
        "#{useType,jdbcType=VARCHAR}, #{pwdFailCnt,jdbcType=DECIMAL}, ",
        "#{pwdChDate,jdbcType=TIMESTAMP}, #{misRight,jdbcType=VARCHAR}, ",
        "#{sysType,jdbcType=VARCHAR})"
    })
    int insert(TCmMember record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table OP.T_CM_MEMBER
     *
     * @mbggenerated Tue Jul 15 14:49:16 KST 2014
     */
    @InsertProvider(type=TCmMemberSqlProvider.class, method="insertSelective")
    int insertSelective(TCmMember record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table OP.T_CM_MEMBER
     *
     * @mbggenerated Tue Jul 15 14:49:16 KST 2014
     */
    @SelectProvider(type=TCmMemberSqlProvider.class, method="selectBySpec")
    @Results({
        @Result(column="MEMBER_ID", property="memberId", jdbcType=JdbcType.VARCHAR, id=true),
        @Result(column="MEMBER_NM", property="memberNm", jdbcType=JdbcType.VARCHAR),
        @Result(column="MEMBER_TYPE", property="memberType", jdbcType=JdbcType.VARCHAR),
        @Result(column="PASS_WORD", property="passWord", jdbcType=JdbcType.VARCHAR),
        @Result(column="IN_TEL_NO", property="inTelNo", jdbcType=JdbcType.VARCHAR),
        @Result(column="CTI_ID", property="ctiId", jdbcType=JdbcType.VARCHAR),
        @Result(column="NICE_HP", property="niceHp", jdbcType=JdbcType.VARCHAR),
        @Result(column="PRI_HP", property="priHp", jdbcType=JdbcType.VARCHAR),
        @Result(column="TELE_NO", property="teleNo", jdbcType=JdbcType.VARCHAR),
        @Result(column="ADDR", property="addr", jdbcType=JdbcType.VARCHAR),
        @Result(column="E_MAIL", property="eMail", jdbcType=JdbcType.VARCHAR),
        @Result(column="WORK_TYPE", property="workType", jdbcType=JdbcType.VARCHAR),
        @Result(column="RETIRE_YN", property="retireYn", jdbcType=JdbcType.VARCHAR),
        @Result(column="RESIDENT_NO", property="residentNo", jdbcType=JdbcType.VARCHAR),
        @Result(column="LICENCE_NO", property="licenceNo", jdbcType=JdbcType.VARCHAR),
        @Result(column="ENTER_DATE", property="enterDate", jdbcType=JdbcType.VARCHAR),
        @Result(column="RETIRE_DATE", property="retireDate", jdbcType=JdbcType.VARCHAR),
        @Result(column="CT_RIGHT", property="ctRight", jdbcType=JdbcType.VARCHAR),
        @Result(column="FN_RIGHT", property="fnRight", jdbcType=JdbcType.VARCHAR),
        @Result(column="DEPT_CD", property="deptCd", jdbcType=JdbcType.VARCHAR),
        @Result(column="OFFICE_CD", property="officeCd", jdbcType=JdbcType.VARCHAR),
        @Result(column="TEAM_CD", property="teamCd", jdbcType=JdbcType.VARCHAR),
        @Result(column="DEGREE_NO", property="degreeNo", jdbcType=JdbcType.VARCHAR),
        @Result(column="MIS_ORG_CD", property="misOrgCd", jdbcType=JdbcType.VARCHAR),
        @Result(column="MIS_ORG_NM", property="misOrgNm", jdbcType=JdbcType.VARCHAR),
        @Result(column="UPDATE_DATE", property="updateDate", jdbcType=JdbcType.TIMESTAMP),
        @Result(column="UPDATE_UID", property="updateUid", jdbcType=JdbcType.VARCHAR),
        @Result(column="NICEMEM_TYPE", property="nicememType", jdbcType=JdbcType.VARCHAR),
        @Result(column="USE_TYPE", property="useType", jdbcType=JdbcType.VARCHAR),
        @Result(column="PWD_FAIL_CNT", property="pwdFailCnt", jdbcType=JdbcType.DECIMAL),
        @Result(column="PWD_CH_DATE", property="pwdChDate", jdbcType=JdbcType.TIMESTAMP),
        @Result(column="MIS_RIGHT", property="misRight", jdbcType=JdbcType.VARCHAR),
        @Result(column="SYS_TYPE", property="sysType", jdbcType=JdbcType.VARCHAR)
    })
    List<TCmMember> selectBySpec(TCmMemberSpec spec);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table OP.T_CM_MEMBER
     *
     * @mbggenerated Tue Jul 15 14:49:16 KST 2014
     */
    @Select({
        "select",
        "MEMBER_ID, MEMBER_NM, MEMBER_TYPE, PASS_WORD, IN_TEL_NO, CTI_ID, NICE_HP, PRI_HP, ",
        "TELE_NO, ADDR, E_MAIL, WORK_TYPE, RETIRE_YN, RESIDENT_NO, LICENCE_NO, ENTER_DATE, ",
        "RETIRE_DATE, CT_RIGHT, FN_RIGHT, DEPT_CD, OFFICE_CD, TEAM_CD, DEGREE_NO, MIS_ORG_CD, ",
        "MIS_ORG_NM, UPDATE_DATE, UPDATE_UID, NICEMEM_TYPE, USE_TYPE, PWD_FAIL_CNT, PWD_CH_DATE, ",
        "MIS_RIGHT, SYS_TYPE",
        "from OP.T_CM_MEMBER",
        "where MEMBER_ID = #{memberId,jdbcType=VARCHAR}"
    })
    @Results({
        @Result(column="MEMBER_ID", property="memberId", jdbcType=JdbcType.VARCHAR, id=true),
        @Result(column="MEMBER_NM", property="memberNm", jdbcType=JdbcType.VARCHAR),
        @Result(column="MEMBER_TYPE", property="memberType", jdbcType=JdbcType.VARCHAR),
        @Result(column="PASS_WORD", property="passWord", jdbcType=JdbcType.VARCHAR),
        @Result(column="IN_TEL_NO", property="inTelNo", jdbcType=JdbcType.VARCHAR),
        @Result(column="CTI_ID", property="ctiId", jdbcType=JdbcType.VARCHAR),
        @Result(column="NICE_HP", property="niceHp", jdbcType=JdbcType.VARCHAR),
        @Result(column="PRI_HP", property="priHp", jdbcType=JdbcType.VARCHAR),
        @Result(column="TELE_NO", property="teleNo", jdbcType=JdbcType.VARCHAR),
        @Result(column="ADDR", property="addr", jdbcType=JdbcType.VARCHAR),
        @Result(column="E_MAIL", property="eMail", jdbcType=JdbcType.VARCHAR),
        @Result(column="WORK_TYPE", property="workType", jdbcType=JdbcType.VARCHAR),
        @Result(column="RETIRE_YN", property="retireYn", jdbcType=JdbcType.VARCHAR),
        @Result(column="RESIDENT_NO", property="residentNo", jdbcType=JdbcType.VARCHAR),
        @Result(column="LICENCE_NO", property="licenceNo", jdbcType=JdbcType.VARCHAR),
        @Result(column="ENTER_DATE", property="enterDate", jdbcType=JdbcType.VARCHAR),
        @Result(column="RETIRE_DATE", property="retireDate", jdbcType=JdbcType.VARCHAR),
        @Result(column="CT_RIGHT", property="ctRight", jdbcType=JdbcType.VARCHAR),
        @Result(column="FN_RIGHT", property="fnRight", jdbcType=JdbcType.VARCHAR),
        @Result(column="DEPT_CD", property="deptCd", jdbcType=JdbcType.VARCHAR),
        @Result(column="OFFICE_CD", property="officeCd", jdbcType=JdbcType.VARCHAR),
        @Result(column="TEAM_CD", property="teamCd", jdbcType=JdbcType.VARCHAR),
        @Result(column="DEGREE_NO", property="degreeNo", jdbcType=JdbcType.VARCHAR),
        @Result(column="MIS_ORG_CD", property="misOrgCd", jdbcType=JdbcType.VARCHAR),
        @Result(column="MIS_ORG_NM", property="misOrgNm", jdbcType=JdbcType.VARCHAR),
        @Result(column="UPDATE_DATE", property="updateDate", jdbcType=JdbcType.TIMESTAMP),
        @Result(column="UPDATE_UID", property="updateUid", jdbcType=JdbcType.VARCHAR),
        @Result(column="NICEMEM_TYPE", property="nicememType", jdbcType=JdbcType.VARCHAR),
        @Result(column="USE_TYPE", property="useType", jdbcType=JdbcType.VARCHAR),
        @Result(column="PWD_FAIL_CNT", property="pwdFailCnt", jdbcType=JdbcType.DECIMAL),
        @Result(column="PWD_CH_DATE", property="pwdChDate", jdbcType=JdbcType.TIMESTAMP),
        @Result(column="MIS_RIGHT", property="misRight", jdbcType=JdbcType.VARCHAR),
        @Result(column="SYS_TYPE", property="sysType", jdbcType=JdbcType.VARCHAR)
    })
    TCmMember selectByPrimaryKey(String memberId);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table OP.T_CM_MEMBER
     *
     * @mbggenerated Tue Jul 15 14:49:16 KST 2014
     */
    @UpdateProvider(type=TCmMemberSqlProvider.class, method="updateBySpecSelective")
    int updateBySpecSelective(@Param("record") TCmMember record, @Param("spec") TCmMemberSpec spec);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table OP.T_CM_MEMBER
     *
     * @mbggenerated Tue Jul 15 14:49:16 KST 2014
     */
    @UpdateProvider(type=TCmMemberSqlProvider.class, method="updateBySpec")
    int updateBySpec(@Param("record") TCmMember record, @Param("spec") TCmMemberSpec spec);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table OP.T_CM_MEMBER
     *
     * @mbggenerated Tue Jul 15 14:49:16 KST 2014
     */
    @UpdateProvider(type=TCmMemberSqlProvider.class, method="updateByPrimaryKeySelective")
    int updateByPrimaryKeySelective(TCmMember record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table OP.T_CM_MEMBER
     *
     * @mbggenerated Tue Jul 15 14:49:16 KST 2014
     */
    @Update({
        "update OP.T_CM_MEMBER",
        "set MEMBER_NM = #{memberNm,jdbcType=VARCHAR},",
          "MEMBER_TYPE = #{memberType,jdbcType=VARCHAR},",
          "PASS_WORD = #{passWord,jdbcType=VARCHAR},",
          "IN_TEL_NO = #{inTelNo,jdbcType=VARCHAR},",
          "CTI_ID = #{ctiId,jdbcType=VARCHAR},",
          "NICE_HP = #{niceHp,jdbcType=VARCHAR},",
          "PRI_HP = #{priHp,jdbcType=VARCHAR},",
          "TELE_NO = #{teleNo,jdbcType=VARCHAR},",
          "ADDR = #{addr,jdbcType=VARCHAR},",
          "E_MAIL = #{eMail,jdbcType=VARCHAR},",
          "WORK_TYPE = #{workType,jdbcType=VARCHAR},",
          "RETIRE_YN = #{retireYn,jdbcType=VARCHAR},",
          "RESIDENT_NO = #{residentNo,jdbcType=VARCHAR},",
          "LICENCE_NO = #{licenceNo,jdbcType=VARCHAR},",
          "ENTER_DATE = #{enterDate,jdbcType=VARCHAR},",
          "RETIRE_DATE = #{retireDate,jdbcType=VARCHAR},",
          "CT_RIGHT = #{ctRight,jdbcType=VARCHAR},",
          "FN_RIGHT = #{fnRight,jdbcType=VARCHAR},",
          "DEPT_CD = #{deptCd,jdbcType=VARCHAR},",
          "OFFICE_CD = #{officeCd,jdbcType=VARCHAR},",
          "TEAM_CD = #{teamCd,jdbcType=VARCHAR},",
          "DEGREE_NO = #{degreeNo,jdbcType=VARCHAR},",
          "MIS_ORG_CD = #{misOrgCd,jdbcType=VARCHAR},",
          "MIS_ORG_NM = #{misOrgNm,jdbcType=VARCHAR},",
          "UPDATE_DATE = #{updateDate,jdbcType=TIMESTAMP},",
          "UPDATE_UID = #{updateUid,jdbcType=VARCHAR},",
          "NICEMEM_TYPE = #{nicememType,jdbcType=VARCHAR},",
          "USE_TYPE = #{useType,jdbcType=VARCHAR},",
          "PWD_FAIL_CNT = #{pwdFailCnt,jdbcType=DECIMAL},",
          "PWD_CH_DATE = #{pwdChDate,jdbcType=TIMESTAMP},",
          "MIS_RIGHT = #{misRight,jdbcType=VARCHAR},",
          "SYS_TYPE = #{sysType,jdbcType=VARCHAR}",
        "where MEMBER_ID = #{memberId,jdbcType=VARCHAR}"
    })
    int updateByPrimaryKey(TCmMember record);

    /**
     * CommonPackImpl.getAutoSendInfo 에서 호출
     *
     * @author KDJ, on Tue Jul 03 17:10:00 KST 2014
     */
    @Select({
        "SELECT  M.MEMBER_ID, M.MEMBER_NM, M.NICE_HP                                                            ",  
        "FROM    OP.T_CM_MEMBER M,                                                                              ",
        "        OP.T_CM_WORKTIME W,                                                                            ",
        "        OP.T_CM_SECTOR_D SEC,                                                                          ",
        "        OP.T_CM_SITE SITE /* sector등록이 잘못된 경우 통보오류를 막기 위해 t_cm_site 추가 2008.07.03 */ ",
        "WHERE  (TO_CHAR(SYSDATE, 'HH24MI') BETWEEN W.START_TIME AND W.END_TIME)                                ",
        "AND     W.WORK_DATE    = TO_CHAR(SYSDATE, 'YYYYMMDD')                                                  ",
        "AND     W.MEMBER_ID    = M.MEMBER_ID                                                                   ",
        "AND     M.RETIRE_YN   <> '1'                                                                           ",
        "AND     SEC.ORG_CD     = #{orgCd, jdbcType=VARCHAR}                                                    ",
        "AND     SEC.BRANCH_CD  = OP.F_GET_NICE_BRANCH_CD(#{orgCd, jdbcType=VARCHAR}, #{branchCd, jdbcType=VARCHAR}, '', #{macNo, jdbcType=VARCHAR})",
        "AND     SEC.SITE_CD    = #{siteCd, jdbcType=VARCHAR}                                                   ",
        "AND     W.WORK_TYPE    = '2100'                                                                        ",
        "AND     W.DEPT_CD      = SEC.DEPT_CD                                                                   ",
        "AND     W.OFFICE_CD    = SEC.OFFICE_CD                                                                 ",
        "AND     W.TEAM_CD      = SEC.TEAM_CD                                                                   ",
        "AND     W.TYPE_CD      = SEC.TYPE_CD                                                                   ",
        "AND     W.SECTOR_CD    = SEC.SECTOR_CD                                                                 ",
        "AND     SEC.ORG_CD     = SITE.ORG_CD                                                                   ",
        "AND     SEC.BRANCH_CD  = SITE.BRANCH_CD                                                                ",
        "AND     SEC.SITE_CD    = SITE.SITE_CD                                                                  ",
        "AND     SEC.DEPT_CD    = SITE.DEPT_CD                                                                  ",
        "AND     SEC.OFFICE_CD  = SITE.OFFICE_CD                                                                ",
        "AND     SEC.TEAM_CD    = SITE.TEAM_CD                                                                  ",
        "AND     M.USE_TYPE     = '0'                                                                           ",
        "AND     ROWNUM         = 1                                                                             "
    })
    @Results({
        @Result(column="MEMBER_ID", property="memberId", jdbcType=JdbcType.VARCHAR, id=true),
        @Result(column="MEMBER_NM", property="memberNm", jdbcType=JdbcType.VARCHAR, id=true),
        @Result(column="NICE_HP", property="niceHp", jdbcType=JdbcType.VARCHAR)
    })
    TCmMember selectByJoin1( TCmMemberCond cond );
}