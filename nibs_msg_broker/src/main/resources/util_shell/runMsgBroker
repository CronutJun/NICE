# JMX putty tunneling ì—°ê²°ì„ í•˜ëjava.rmi.server.hostname propertyë¥¼ localhostë¡œ ì…‹í•˜ê³ 
# ì§ì ‘ ì—°ê²°í•˜ë ¤ë©´ IP addressë¥¼ ì…‹í•œë‹¤.
# 2014-10-22 ã…K.D.J
PROC_NUM=`ps -ef|grep "MsgBrokerMain"|grep -v "grep"|wc -l`
if [ $PROC_NUM -eq 1 ];
then
   echo "MsgBroker is already running.."
   exit 0
fi
cd $HOME/MsgBroker
# ê¸°ë³¸ JMX
#nohup $JAVA_HOME/bin/java -server -Xms512m -Xmx1024m -Dserver.type=stage1 -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=10899 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.rmi.server.hostname=localhost -Dfile.encoding=UTF-8 -cp nibs_msg_broker-0.0.1-SNAPSHOT-jar-with-dependencies.jar com.nicetcm.nibsplus.broker.msg.MsgBrokerMain 2>&1 &
# JMX Agent
nohup $JAVA_HOME/bin/java -server -Xms512m -Xmx1024m -Dserver.type=stage1 -Dcom.sun.management.jmxremote -Dcom.nicetcm.nibsplus.broker.jmxremote.port=10899 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.rmi.server.hostname=10.61.101.101 -Dfile.encoding=UTF-8 -cp nibs_msg_broker-0.0.1-SNAPSHOT-jar-with-dependencies.jar com.nicetcm.nibsplus.broker.msg.MsgBrokerMain 2>&1 &
