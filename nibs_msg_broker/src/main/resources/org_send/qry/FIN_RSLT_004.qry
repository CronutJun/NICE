#USE_COL_CNT, COL_LEN, COL_TYPE 순으로 정의되어 져야 하며 SELECT 절 내부를 제외하고는 라인을 띄우면 안된다.
#SELECT 문의 COLUMN은 반드시 50개를 채워줘야 한다.(USE_COL_CNT 만큼 제외한 컬럼은 '' 등 으로 정의
USE_COL_CNT=33
COL_LEN=8,10,8,12,6,4,4,60,8,60,4,8,6,1,1,4,4,1,8,6,8,10,13,10,8,6,40,200,50,4,20,3,65
COL_TYPE=A,A,A,A,A,A,A,A,A,A,A,A,A,N,N,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A
SELECT /*+ INDEX(MNG IX_T_CT_ERROR_MNG_04)*/ MNG.trans_date,
         MNG.org_msg_no,
         MNG.jijum_cd,
         MNG.mac_no,
         '',
         '',
         '',
         JIJ.jijum_nm,
         MNG.error_cd,
         '',
         SUBSTR(MNG.format_type, 1, 1),
         MNG.send_date,
         MNG.send_time,
         SUBSTR(MNG.sec, 1, 1),
         DECODE(NVL(CNT.cnt, 0), 0, 1, CNT.cnt),
         SUBSTR(MNG.error_status, 3, 1),
         DECODE(SUBSTR(MNG.error_status, 4, 1), '7', '9', SUBSTR(MNG.error_status, 4, 1)),
         SUBSTR(MNG.as_medium, 2, 1),
         MNG.finish_date,
         DECODE(MNG.finish_time, '', '', MNG.finish_time ),
         CASE WHEN MNG.org_send_yn = '2'
                    then DECODE(MNG.finish_uid, NULL, 'nice', MNG.finish_uid)
                WHEN MNG.org_send_yn = '3' and
                      MNG.finish_type = '0001' AND
                   MNG.finish_nm = '취소' AND
                   MNG.arrival_time IS NOT NULL
                   THEN DECODE(MNG.recv_user_uid, NULL,
                                                 'nice', MNG.recv_user_uid)
         END finishuid,
         CASE WHEN MNG.org_send_yn = '2'
                    then DECODE(MNG.finish_nm, NULL, '나이스', MNG.finish_nm)
                WHEN MNG.org_send_yn = '3' and
                      MNG.finish_type = '0001' AND
                   MNG.finish_nm = '취소' AND
                   MNG.arrival_time IS NOT NULL
                   THEN DECODE(MNG.recv_user_nm, NULL,
                                    DECODE(MNG.recv_user_uid, NULL, '나이스', MBR.member_nm), MNG.recv_user_nm)
         END finishnm,
         '0800228252',
         '나이스',
         DECODE(MNG.arrival_time, '', MNG.finish_date, MNG.arrival_date),
         DECODE(MNG.arrival_time, '', MNG.finish_time, MNG.arrival_time),
         '',
         NVL(MNG.msg, '처리완료'),
         '',
         '', 
         '', 
         '', 
         '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''
   FROM T_CT_ERROR_MNG MNG,
         T_CM_MEMBER    MBR,
       (
         SELECT /*+ INDEX(E IX_T_CT_ERROR_MNG_04)*/ E.create_date AS c_date,
                         E.error_no AS e_no,
                count(*) AS cnt
           FROM T_CT_OUT_HISTORY C,
                    T_CT_ERROR_MNG E
          WHERE E.CREATE_DATE >= TO_NUMBER(TO_CHAR((SYSDATE - 2), 'YYYYMMDD'))
            AND E.org_cd = '004'
            AND E.arrival_time IS NOT NULL
            AND E.send_time IS NOT NULL
            AND E.error_status IS NOT NULL
            AND E.org_send_yn = '1'
            AND (E.format_type = '21'
                 OR E.format_type = '23')
            AND E.create_date = C.create_date(+)
            AND E.error_no = C.error_no(+)
         GROUP BY E.create_date, E.error_no
       ) CNT,
        T_CM_JIJUM JIJ
 WHERE CREATE_DATE > TO_NUMBER(TO_CHAR((SYSDATE - 3), 'YYYYMMDD'))
   AND MNG.org_cd = '004'
   /* 도착이 없는것은 완료 시간으로 도착시간 세팅하여 통보 20110601 김자년 요청 
   AND MNG.arrival_time IS NOT NULL
   */
   AND MNG.send_time IS NOT NULL
   AND MNG.error_status IS NOT NULL
   AND MNG.org_send_yn = DECODE( MNG.format_type , '31', '0', '1')
   AND (MNG.format_type = '21' OR MNG.format_type = '31')
   AND MNG.create_date = CNT.c_date(+)
   AND MNG.error_no = CNT.e_no(+)
   AND MNG.org_cd = JIJ.org_cd
   AND MNG.jijum_cd = JIJ.jijum_cd
   AND MNG.recv_user_uid = MBR.member_id(+)
