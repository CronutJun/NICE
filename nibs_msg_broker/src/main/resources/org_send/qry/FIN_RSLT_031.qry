#USE_COL_CNT, COL_LEN, COL_TYPE 순으로 정의되어 져야 하며 SELECT 절 내부를 제외하고는 라인을 띄우면 안된다.
#SELECT 문의 COLUMN은 반드시 50개를 채워줘야 한다.(USE_COL_CNT 만큼 제외한 컬럼은 '' 등 으로 정의
USE_COL_CNT=35
COL_LEN=8,10,8,12,6,4,4,60,8,60,4,8,6,1,1,4,4,1,8,6,8,10,13,10,8,6,40,200,50,4,20,3,6,2,57
COL_TYPE=A,A,A,A,A,A,A,A,A,A,A,A,A,N,N,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A
SELECT  /*+ INDEX(MNG IX_T_CT_ERROR_MNG_04)*/  MNG.create_date,
         MNG.org_msg_no,																/*	출동요청 일련번호	*/
         MNG.jijum_cd,
         MNG.mac_no,
         MNG.site_cd,
         '',
         '',
         '',
         CASE WHEN LENGTH(MNG.ERROR_CD) = 2 
     		THEN MNG.ERROR_CD
    		ELSE
    		(SELECT CD_NM2 FROM T_CM_COMMON WHERE LARGE_CD = '1130'
	 							AND	CD_NM3 = ERR.ORG_CD
	 							AND CD_NM1 = ERR.GROUP_ERROR_CD)
      		END AS error_cd,
         /* CASE WHEN substr(MNG.error_cd, 1, 3) <> 'ERR' AND substr(MNG.error_cd, 1, 2) <> 'NE' AND substr(MNG.error_cd, 1, 3) <> 'USR'
                THEN MNG.made_err_cd
                ELSE DECODE(MNG.error_cd, 'USR01', 'ERR19', MNG.error_cd)
              END AS error_cd */
         
         '',
         '',
         '',
         '',
         SUBSTR(MNG.SEC,2,1),						 													/*	조치내용코드	*/
         '',
         CASE WHEN ( MNG.error_status IS NULL OR MNG.error_status = '2000' )							/*	조치결과		*/
               AND NVL(MNG.AS_MEDIUM, '0000') <> '0000'									
              THEN SUBSTR(MNG.error_status, 3, 1)														/* '0' : 미조치 	*/
              ELSE '1'																					/* '1' : 조치완료 	*/
         END AS MNG_RESULT,
         CASE WHEN ( MNG.error_status IS NULL OR MNG.error_status = '2000' )							/*	미조치사유		*/
               AND NVL(MNG.AS_MEDIUM, '0000') <> '0000'
              THEN '1'
              ELSE DECODE(SUBSTR(MNG.error_status, 4, 1), '7', '9', SUBSTR(MNG.error_status, 4, 1))
         END AS NOT_MNG_REASON,
         '',																								
         DECODE(MNG.finish_date, NULL, TO_CHAR( SYSDATE, 'YYYYMMDD'), MNG.finish_date) AS FINISH_DATE,	/*	조치일			*/
         DECODE(MNG.finish_time, NULL, TO_CHAR( SYSDATE, 'HH24MISS'), MNG.finish_time) AS FINISH_TIME,	/*	조치시각		*/
         '',
         CASE WHEN MNG.org_send_yn = '2'																/*	조치자명		*/
                    then DECODE(MNG.finish_nm, NULL, 'NICE', MNG.finish_nm)
                WHEN MNG.org_send_yn = '3' and
                     MNG.finish_type = '0001' AND
                     MNG.finish_nm = '취소' AND
                     MNG.arrival_time IS NOT NULL
                THEN DECODE(MNG.recv_user_nm, NULL,
                                    DECODE(MNG.recv_user_uid, NULL, 'NICE', MBR.member_nm), MNG.recv_user_nm)
         END finishnm,
         '0800228252',																					/*	조치자 전화번호	*/
         '',
         '',
         '',
         '',
	     REPLACE(MNG.MSG, CHR(10), ' '),																/*	조치특이사항	*/
         '',
         '',
         '',
         '',
         '', 
         MID_ERROR_CD,																					/*	조치부위		*/
         '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''
    FROM T_CT_ERROR_MNG MNG,
          T_CM_MEMBER    MBR,
          T_CT_ERROR	ERR
    WHERE MNG.org_cd = '031'
    AND MNG.send_time IS NOT NULL
    AND (   MNG.error_status IS NOT NULL
         or (MNG.ERROR_STATUS IS NULL AND nvl(as_medium, '0000') <> '0000' )
        )
    AND (
         (/* 도착까지 정상적으로 전송완료 된건 혹은 A/S 완료처리건('5')*/
           MNG.org_send_yn = '2' OR MNG.org_send_yn = '5'
           
         ) OR
         (
           (/* 도착예정과 도착이 모두 누락된 경우 */
             MNG.org_send_yn = '0' AND
             MNG.arrival_est_time IS NULL AND
             MNG.arrival_time IS NULL
           ) OR
           ( /* 도착만 누락된 경우 */
             MNG.org_send_yn = '1' AND
             MNG.arrival_time IS NULL
           )
         )
       )
    AND MNG.CREATE_DATE > TO_NUMBER(TO_CHAR((SYSDATE - 2), 'YYYYMMDD'))
    AND MNG.recv_user_uid = MBR.member_id(+)
	/* 차세대 후 FKM 기기 오류로 올라오는것 (정상이나 장애로 설정되는것 ) 제외 */
	AND MNG.error_cd || nvl(MNG.made_err_cd, '0') <> '9900000'
	AND MNG.ORG_CD = ERR.ORG_CD
	AND MNG.ERROR_CD = ERR.ERROR_CD
   